add_namespace = generic
# Notification event that TAG withdrew attache
country_event = {
	id = generic.15
	title = generic.15.t
	desc = generic.15.d
	
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes

	option = {
		name = excellent
	}	
}

# Notification event that TAG refused to withdraw attache
country_event = {
	id = generic.16
	title = generic.16.t
	desc = generic.16.d
	
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes

	option = {
		name = generic.16.a
		effect_tooltip = {
			add_opinion_modifier = { target = FROM modifier = rejected_demands }
		}
	}	
}

# Notification event that leader has gotten sick
unit_leader_event = {
	id = generic.17
	title = generic.17.t
	desc = generic.17.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			FROM = {
				set_unit_leader_flag = {
					flag = recently_sick
					value = 1
					days = 180
				}
			}
		}
	}

	option = {
		name = unfortunate
		effect_tooltip = {
			FROM = {
				add_timed_unit_leader_trait = {
					trait = sick
					days = 30
				}
			}
		}
	}	
}

# Notification event that leader has been wounded
country_event = {
	id = generic.18
	title = generic.18.t
	desc = generic.18.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = unfortunate
		effect_tooltip = {
			FROM = {
				add_timed_unit_leader_trait = {
					trait = wounded
					days = 90
				}
			}
		}
	}	
}

# Notification event that FROM has sent industrial support
country_event = {
	id = generic.19
	title = generic.19.t
	desc = generic.19.d
	
	picture = GFX_report_event_generic_factory

	is_triggered_only = yes

	option = {
		name = excellent
		effect_tooltip = {
			add_offsite_building = { type = arms_factory level = 2 }
		}
	}	
}

#Become a puppet
country_event = {
	id = generic.20
	title = generic.20.t
	desc = {
		text = generic.20.d_friends
		trigger = {
			has_opinion = {
				target = FROM
				value = 150
			}
		}
	}
	desc = {
		text = generic.20.d_enemies
		trigger = {
			NOT = { 
				has_opinion = {
					target = FROM
					value = 150
				}
			}
		}
	}
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	option = {
		name = generic.20.a
		trigger = {
			NOT = { 
				has_opinion = {
					target = FROM
					value = 150
				}
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				threat > 20
				factor = 2
			}
			modifier = {
				is_in_faction = no
				factor = 2
			}
			modifier = {
				is_in_faction_with = FROM
				factor = 2
			}
			modifier = {
				is_in_faction = yes
				NOT = { is_in_faction_with = FROM }
				factor = 0.5
			}
		}
		effect_tooltip = { 
			FROM = { puppet = ROOT }
			if = {
				limit = {
					FROM = { is_in_faction = yes }
				}
				random_country = {
					limit = { 
						is_in_faction_with = FROM 
						is_faction_leader = yes
					}
					add_to_faction = ROOT
				}
			}
		}
		hidden_effect = {
			FROM = { country_event = { id = generic.21 hours = 6 } }
		}
	}

	option = {
		name = generic.20.b
		trigger = {
			has_opinion = {
				target = FROM
				value = 150
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				threat > 20
				factor = 2
			}
			modifier = {
				is_in_faction = no
				factor = 2
			}
			modifier = {
				is_in_faction_with = FROM
				factor = 2
			}
			modifier = {
				is_in_faction = yes
				NOT = { is_in_faction_with = FROM }
				factor = 0.5
			}
		}
		effect_tooltip = { 
			FROM = { puppet = ROOT }
			if = {
				limit = {
					FROM = { is_in_faction = yes }
				}
				random_country = {
					limit = { 
						is_in_faction_with = FROM 
						is_faction_leader = yes
					}
					add_to_faction = ROOT
				}
			}
		}
		hidden_effect = {
			FROM = { country_event = { id = generic.21 hours = 6 } }
		}
	}

	option = {
		name = generic.20.c
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction = yes
				NOT = { is_in_faction_with = FROM }
				factor = 2
			}
			modifier = {
				threat < 20
				factor = 2
			}
		}
		effect_tooltip = { 
			FROM = { 
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROOT
				}
			}
		}
		hidden_effect = {
			FROM = { country_event = { id = generic.22 hours = 6 } }
		}
	}

}