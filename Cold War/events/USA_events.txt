##########################
# USA EVENTS AND RELATED EVENTS #
##########################
add_namespace = us_events
country_event = {
	id = us_events.1		#Greenland Purchase event for DENMARK
	title = us_events.1.t
	desc = us_events.1.d
	picture = GFX_report_event_generic_sign_treaty2

	fire_only_once = no
	is_triggered_only = yes

	option = {
		name = "They can have it"
		ai_chance = {
			modifier = {
				factor = 25
			}
			modifier = {
				factor = -50
				is_historical_focus_on = yes
			}			
		}			
		USA = { transfer_state = 101 }
		ROOT = { remove_state_core = 101 }
		USA = { add_state_core = 101 }
		capital_scope = { add_building_construction = { type = arms_factory level = 5 instant_build = yes } }
		reverse_add_opinion_modifier = { target = FROM modifier = accepted_offer }
		hidden_effect = {
			news_event = cw_non_historic_news.1
			USA = { random_owned_state = { limit = { industrial_complex > 0 } remove_building = { type = industrial_complex level = 1 } } }
			USA = { random_owned_state = { limit = { industrial_complex > 0 } remove_building = { type = industrial_complex level = 1 } } }
			USA = { random_owned_state = { limit = { industrial_complex > 0 } remove_building = { type = industrial_complex level = 1 } } }
			USA = { random_owned_state = { limit = { industrial_complex > 0 } remove_building = { type = industrial_complex level = 1 } } }
			USA = { random_owned_state = { limit = { industrial_complex > 0 } remove_building = { type = industrial_complex level = 1 } } }			
		}
	}
	option = {
		name = "We cannot agree to this"
		ai_chance = {
			modifier = {
				factor = 10
			}
			modifier = {
				factor = 25
				is_historical_focus_on = yes
			}			
		}
		reverse_add_opinion_modifier = { target = FROM modifier = refused_offer }
		FROM = { country_event = us_events.2 }
	}	
}
country_event = {
	id = us_events.2		#Greenland Purchase rejected
	title = us_events.2.t
	desc = us_events.2.d
	picture = GFX_report_event_generic_sign_treaty2

	fire_only_once = no
	is_triggered_only = yes

	option = {
		name = "We must find an alternative way"
	}	
}
country_event = {
	id = us_events.3		#Czechoslovakia Split Offer Event
	title = us_events.3.t
	desc = us_events.3.d
	picture = GFX_report_event_generic_sign_treaty2

	fire_only_once = no
	is_triggered_only = yes

	option = {
		name = "It's the lesser evil"
		ai_chance = {
			modifier = {
				factor = 70
			}
		}		
		custom_effect_tooltip = "CZE_SPLIT_TT"
		hidden_effect = {
			CZR = { annex_country = { target = ROOT transfer_troops = yes } }
			CZR = { change_tag_from = ROOT }
			CZR = {
				add_ideas = cw_non_recognized_state
				create_country_leader = {
					name = "Edvard Beneš"
					desc = ""
					picture = "CZEH1.dds"
					ideology = social_cons_idolg
					expire = 1948.6.7
					traits = {}
				}				
				set_politics = {
					ruling_party = democratic
					election_frequency = 48
					elections_allowed = yes
				}
				set_popularities = {
					democratic = 40
					democratic_socialist = 60
					communism = 0
					neutrality = 0
					unaligned_right = 0
					colonial = 0
				}
				set_country_flag = communist_consolidation_target
				add_timed_idea = { idea = anti_communist_bastion days = 700 }
			}
			SLO = { transfer_state = 70 transfer_state = 664 transfer_state = 71 }		
			every_state = { limit = { is_owned_and_controlled_by = SLO } add_core_of = SLO }
			SLO = {
				add_ideas = cw_non_recognized_state
				set_politics = {
					ruling_party = communism_totalitarian
					election_frequency = 48
					elections_allowed = no
				}
				set_popularities = {
					democratic = 20
					democratic_socialist = 20
					communism = 0
					communism_totalitarian = 50
					neutrality = 10
					unaligned_right = 0
					colonial = 0
				}
				set_country_flag = communist_consolidation_target
			}
			every_state = { limit = { is_owned_and_controlled_by = CZR } add_core_of = CZR }			
			CZR = { reverse_add_opinion_modifier = { target = SLO modifier = unilateral_action } }
			CZR = { reverse_add_opinion_modifier = { target = SOV modifier = unilateral_action } }
			CZR = { reverse_add_opinion_modifier = { target = USA modifier = accepted_offer } }			
			news_event = cw_non_historic_news.2
			CZR = { add_named_threat = { threat = 5 name = CZE_SPLIT_THREAT_LOC } }
			USA = { country_event = { id = us_events.4 days = 5 } }
			SOV = { country_event = { id = sov_events.1 days = 10 } }
		}		
	}
	option = {
		name = "We must endure together"
		ai_chance = {
			modifier = {
				factor = 30				
			}
		}
		USA = { country_event = { id = us_events.31 days = 3 } }		
	}		
}
country_event = {
	id = us_events.31		#Czechoslovakia refuses dissolution
	title = us_events.31.t
	desc = us_events.31.d
	picture = GFX_report_event_generic_sign_treaty2

	fire_only_once = no
	is_triggered_only = yes

	option = {
		name = "We keep our promises"
		ai_chance = {
			modifier = {
				factor = 10
			}
			modifier = {
				factor = -25
				is_historical_focus_on = yes
			}			
		}	
		give_guarantee = CZR
	}
}
country_event = {
	id = us_events.4		#Czechoslovakia dissolution USA response
	title = us_events.4.t
	desc = us_events.4.d
	picture = GFX_report_event_generic_sign_treaty2

	fire_only_once = no
	is_triggered_only = yes

	option = {
		name = "We keep our promises"
		ai_chance = {
			modifier = {
				factor = 10
			}
			modifier = {
				factor = -25
				is_historical_focus_on = yes
			}			
		}	
		give_guarantee = CZR
	}
	option = {
		name = "It is too risky right now"
		ai_chance = {
			modifier = {
				factor = 10
			}
			modifier = {
				factor = 25
				is_historical_focus_on = yes
			}			
		}
		reverse_add_opinion_modifier = { target = CZR modifier = western_betrayal }
	}
}
country_event = {
	id = us_events.5		#Iran withdrawal demand
	title = us_events.5.t
	desc = us_events.5.d
	picture = GFX_report_event_generic_sign_treaty2

	fire_only_once = no
	is_triggered_only = yes

	option = {
		name = "They can't make such demands"
		ai_chance = {
			modifier = {
				factor = 10
			}
			modifier = {
				factor = -25
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 25
				is_historical_focus_on = yes
				tag = SOV
			}
		}	
		reverse_add_opinion_modifier = { target = FROM modifier = refused_demand }
		reverse_add_opinion_modifier = { target = PER modifier = protest_action_strong }
		set_country_flag = refused_iran_withdrawal
	}
	option = {
		name = "Return the troops home"
		ai_chance = {
			modifier = {
				factor = 10
			}
			modifier = {
				factor = 25
				is_historical_focus_on = no
			}
			modifier = {
				factor = 150
				is_historical_focus_on = yes
				tag = ENG
			}			
		}
		THIS = { remove_resource_rights = 413 }
		THIS = { remove_resource_rights = 412 }
		reverse_add_opinion_modifier = { target = FROM modifier = accepted_demand }
		reverse_add_opinion_modifier = { target = PER modifier = eased_tensions }
		every_state = { limit = { is_controlled_by = ROOT is_core_of = PER } PER = { transfer_state = PREV } }
		set_country_flag = agreed_iran_withdrawal
	}
}
country_event = {
	id = us_events.6		#Berlin Blockade US response
	title = us_events.6.t
	desc = us_events.6.d
	picture = GFX_report_event_german_reichstag_gathering

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = "We must help Berlin"
		ai_chance = {
			base = 0
			modifier = {
				add = 50
				is_historical_focus_on = yes
			}
			modifier = {
				add = 25
				is_historical_focus_on = no
			}			
		}
		activate_mission = cw_berlin_blockade_timer
		set_country_flag = berlin_blockade_intervention
		reverse_add_opinion_modifier = { target = SOV modifier = protest_action_light }
		reverse_add_opinion_modifier = { target = BRL modifier = offered_support }
	}
	option = {
		name = "Berlin is a lost cause"
		ai_chance = {
			base = 0
			modifier = {
				add = 25
				is_historical_focus_on = no
			}			
		}
		reverse_add_opinion_modifier = { target = SOV modifier = eased_tensions }
		reverse_add_opinion_modifier = { target = BRL modifier = protest_action_strong }
		hidden_effect = { news_event = cw_non_historic_news.3 }
		diplomatic_relation = { country = BRL relation = guarantee active = no }
		hidden_effect = { 801 = { remove_core_of = GER } }
	}
}
country_event = {
	id = us_events.7	#Berlin Blockade US Plane Down
	title = us_events.7.t
	desc = us_events.7.d
	picture = GFX_report_event_generic_bombers

	is_triggered_only = yes
	option = {
		name = "We will not stop the airlift"
		ai_chance = {
			base = 0
			modifier = {
				add = 25
				is_historical_focus_on = yes
			}
			modifier = {
				add = 25
				is_historical_focus_on = no
			}			
		}
		BRL = { add_popularity = {ideology = democratic_socialist popularity = 0.05 } }
	}
	option = {
		name = "Stop the airlift"
		ai_chance = {
			base = 0
			modifier = {
				add = 25
				is_historical_focus_on = no
			}			
		}
		clr_country_flag = chose_airlift
		news_event = cw_historic_events.11
	}
	option = {
		name = "This is a declaration of war"
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				is_historical_focus_on = no
			}			
		}
		add_threat = 50
		declare_war_on = { target = DDR type = topple_government }
	}	
}
country_event = {
	id = us_events.8		#Eisenhower Nominated by Republican party
	title = us_events.8.t
	desc = us_events.8.d
	picture = GFX_ike_nixon

	is_triggered_only = yes

	option = {
		name = "OK"
		create_country_leader = {
			name = "Dwight D. Eisenhower"
			desc = ""
			picture = USAH2.dds
			ideology = social_cons_idolg
			expire = 1961.1.20
			traits = { democratic_right cw_military_reformer }
		}
		remove_unit_leader = 766000
	}	
}

country_event = {
	id = us_events.9		#USA suggest a lease on Turkish straits
	title = "United States Offers custodianship of Turkish Straits"
	desc = us_events.9.d
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes

	option = {
		name = "It's better than losing them forever."
		ai_chance = {
			base = 10
			modifier = {
				add = 50
				is_historical_focus_on = yes
			}
		}
		custom_effect_tooltip = "The Turkish straits will be leased to the United States for 5 years."
		FROM = { transfer_state = 806 }
		hidden_effect = {
			if = {
				limit = {
					806 = { is_core_of = ROOT }
				}
				806 = { set_state_flag = leased_rec_territory }
			}
			USA = { 806 = { cw_grant_lease_international = yes } }
		}
	}
	option = {
		name = "No, we will defend the straits by ourselfes."
		ai_chance = {
			base = 10
			modifier = {
				add = 10
				is_historical_focus_on = no
			}
		}
	}	
}
country_event = {
	id = us_events.10		# Un American Activities comittee recomendations.
	title = "Comittee on Un-American Activities Submits Demands"
	desc = us_events.10.d
	picture = GFX_unamerican_committee

	is_triggered_only = yes
	fire_only_once = no

	option = {
		name = "Follow the recommendation"
		if = {
			limit = {
				NOT = { has_country_flag = red_scare_remove_alger_hiss }
			}
			remove_ideas = usa_pa_alger_hiss
			custom_effect_tooltip = "Alger Hiss will no longer be available as an Advisor."
			set_country_flag = red_scare_remove_alger_hiss
			else = {
				custom_effect_tooltip = "A serving or potential cabinet minister will no longer be available."
				custom_effect_tooltip = "The effects of the red scare will be reduced."
				hidden_effect = {
					add_to_variable = {
						red_scare_pp = 0.05
					}
					add_to_variable = {
						red_scare_stability = 0.005
					}
					random_list = {
						25 = {
							remove_ideas = usa_fm_james_byrnes
							set_country_flag = red_scare_remove_james_byrnes
						}
						25 = {
							remove_ideas = usa_dm_robert_lovett
							set_country_flag = red_scare_remove_robert_lovett				
						}
						25 = {
							remove_ideas = usa_tm_john_snyder
							set_country_flag = red_scare_remove_john_snyder
						}
						25 = {
							remove_ideas = usa_pa_john_steelman
							set_country_flag = red_scare_remove_john_steelman
						}
					}
				}
			}
		}
	}
	option = {
		name = "Refuse to follow recommendation"
		custom_effect_tooltip = "The effects of the Red Scare will worsen."
		add_political_power = -50
		hidden_effect = {
			subtract_from_variable = {
				red_scare_pp = 0.05
			}
			subtract_from_variable = {
				red_scare_stability = 0.005
			}
			#add_to_variable = {
			#	red_scare_drift = 0.5
			#}			
		}
	}	
}