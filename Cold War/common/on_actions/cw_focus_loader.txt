on_actions = {
	on_weekly = {
		############### FOCUS LOADER ###############		
		effect = {
			if = {
				limit = {
					date > 1949.12.31
					NOT = { has_global_flag = loaded_1950_focuses }
				}
				set_global_flag = loaded_1950_focuses
				if = {
					limit = {
						SOV = { is_ai = yes }
						NOT = { has_country_flag = loaded_1950_focuses_country }
					}
					if = {
						limit = {
							is_historical_focus_on = yes
						}
						hidden_effect = {
							SOV = {
								set_country_flag = back_fourth_candidate
								clr_country_flag = open_candidate_selection_screen
								# FOCUS EFFECTS
								unlock_national_focus = SOV_stalin_succession
								unlock_national_focus = SOV_anti_stalin_camp
								unlock_national_focus = SOV_appoint_khrushev
								load_focus_tree = sov_focus_1950
								set_country_flag = loaded_1950_focuses_country
							}
						}
						else = {
							SOV = {
								set_country_flag = loaded_1950_focuses_country
								random_list = {
									25 = {
										set_country_flag = back_fourth_candidate
										clr_country_flag = open_candidate_selection_screen
										# FOCUS EFFECTS
										unlock_national_focus = SOV_stalin_succession
										unlock_national_focus = SOV_anti_stalin_camp
										unlock_national_focus = SOV_appoint_khrushev
										load_focus_tree = sov_focus_1950
									}
									25 = {
										set_country_flag = back_second_candidate
										clr_country_flag = open_candidate_selection_screen
										# FOCUS EFFECTS
										unlock_national_focus = SOV_stalin_succession
										unlock_national_focus = SOV_anti_stalin_camp
										unlock_national_focus = SOV_appoint_beria
										load_focus_tree = sov_focus_1950
									}
									25 = {
										set_country_flag = back_first_candidate
										clr_country_flag = open_candidate_selection_screen
										# FOCUS EFFECTS
										unlock_national_focus = SOV_stalin_succession
										unlock_national_focus = SOV_the_old_guard
										unlock_national_focus = SOV_appoint_malenkov
									}
									25 = {
										set_country_flag = back_third_candidate
										clr_country_flag = open_candidate_selection_screen
										# FOCUS EFFECTS
										unlock_national_focus = SOV_stalin_succession
										unlock_national_focus = SOV_the_old_guard
										unlock_national_focus = SOV_appoint_molotov
									}
								}
							}
						}							
					}
				}
				if = {
					limit = {
						USA = {
							is_ai = yes
							NOT = { has_country_flag = loaded_1950_focuses_country }
						}
					}
					USA = {
						set_country_flag = tree_50_loaded
						mark_focus_tree_layout_dirty =  yes
					}
				}
				if = {
					limit = {
						PRC = { 
							is_ai = yes
							NOT = { has_country_flag = loaded_1950_focuses_country }
						}
					}
					PRC = {
						if = {
							limit = {
								NOT = { has_country_flag = communist_manchuria }
							}
							load_focus_tree = prc_1950_focus_tree
							add_ideas = PRC_uneducated_rural_population_5
							set_country_flag = loaded_1950_focuses_country
						}
					}
				}
				if = {
					limit = {
						CHI = {
							is_ai = yes
							NOT = { has_country_flag = loaded_1950_focuses_country }
							NOT = { has_country_flag = lost_ccw } 
						}
					}
					CHI = {
						load_focus_tree = chi_1950_focus_tree
						add_ideas = PRC_uneducated_rural_population_5
						set_country_flag = loaded_1950_focuses_country
						every_owned_state = {
							limit = {
								OR = {
									is_claimed_by = SIK
									is_core_of = SIK
								}
							}
							start_resistance = yes
							set_compliance = 10
							set_resistance = 10
							
							add_state_modifier = {
								modifier = {
									resistance_target = 0.1
									compliance_gain = -0.5
								}
							}
						}
					}
				}
				if = {
					limit = {
						PRK = {
							is_ai = yes
							NOT = { has_country_flag = loaded_1950_focuses_country } 
						}
					}
					PRK = {
						load_focus_tree = north_korea_1950_focus_tree
						set_country_flag = loaded_1950_focuses_country
					}
				}
				if = {
					limit = {
						KOR = {
							is_ai = yes
							NOT = { has_country_flag = loaded_1950_focuses_country } 
						}
					}
					KOR = {
						load_focus_tree = south_korean_1950_focus_tree
						set_country_flag = loaded_1950_focuses_country
					}
				}
				if = {
					limit = {
						FRA = {
							is_ai = yes
							NOT = { has_country_flag = loaded_1950_focuses_country } 
						}
					}
					FRA = {
						load_focus_tree = france_1950_focus_tree
						set_country_flag = loaded_1950_focuses_country
						every_owned_state = {
							limit = {
								is_claimed_by = ALG
								impassable = no
							}
							start_resistance = yes
							if = {
								limit = {
									is_claimed_by = ALG
								}
								remove_claim_by = ALG
							}            
							add_core_of = ALG
							force_enable_resistance = {
								occupier = FRA
								occupied = ALG
							}
							start_resistance = ALG
							add_state_modifier = {
								modifier = {
									resistance_growth = 0.5
									required_garrison_factor = 1.5
									compliance_gain = -0.5
								}
							}
						}						
					}
				}
				if = {
					limit = {
						ENG = {
							is_ai = yes
							NOT = { has_country_flag = loaded_1950_focuses_country } 
						}
					}
					ENG = {
						load_focus_tree = eng_1950_focus_tree
						set_country_flag = loaded_1950_focuses_country
					}
				}				
			}
			#### NEW FOCUS TREE AVAILABLE NOTIICATION ####
			if = {
				limit = {
					is_ai = no
					date > 1949.12.31
					date < 1959.12.31
					NOT = { has_country_flag = loaded_1950_focuses_country }
					is_in_array = {
						array = global.countries_with_switchable_focuses
						value = THIS.id
					}
				}
				set_country_flag = { flag = new_focus_tree_alert value = 1 days = 5 }
				sound_effect = "alert_border_conflict_sound"
			}
		}
	}
}