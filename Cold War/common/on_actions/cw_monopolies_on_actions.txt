on_actions = {
	on_weekly = {
		effect = {
			if = {
				limit = {
					any_owned_state = { has_state_flag = monopoly_state }
				}
				every_owned_state = {
					limit = {
						check_variable = { monopoly_timer > 0 }
						has_state_flag = monopoly_state
						NOT = { has_state_flag = perpetual_monopoly }
						NOT = { has_state_flag = { flag = monopoly_timer_subtracted value = 0 } }
					}
					random_list = {
						5 = {
							OWNER = { add_timed_idea = { idea = foreign_investments_boom days = 362 } }
						}
						95 = {
						}
					}
					set_state_flag = { flag = monopoly_timer_subtracted days = 32 }
					subtract_from_variable = { monopoly_timer = 1.0 }
					set_temp_variable = { monopoly_timer_temp = monopoly_timer }
					divide_temp_variable = { monopoly_timer_temp = 12 }
					set_variable = { monopoly_timer_display = monopoly_timer_temp }
					round_variable = monopoly_timer_display
				}
				every_owned_state = {
					limit = {
						has_variable = monopoly_timer
						NOT = { has_state_flag = perpetual_monopoly }
						check_variable = { var = monopoly_timer value = 0 compare = less_than_or_equals }
						has_state_flag = monopoly_state
					}
					random_list = {
						5 = {
							add_extra_state_shared_building_slots = 1
						}
						5 = {
							modifier = {
								factor = 1.3
								has_state_flag = high_resource_potential_oil
							}
							if = {
								limit = {
									OR = {
										has_resources_amount = { resource = oil amount > 0 }
										has_state_flag = high_resource_potential_oil
									}
								}
								set_temp_variable = { global.news_monopoly_state = 292.id }
								OWNER = { news_event = state_events.12 }
								if = {
									limit = {
										has_state_flag = high_resource_potential_oil
									}
									add_resource = {
										type = oil
										amount = 20
										state = THIS
									}
									clr_state_flag = high_resource_potential_oil
									else = {
										add_resource = {
											type = oil
											amount = 5
											state = THIS
										}
									}
								}
							}					
						}					
						10 = {
							add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
						}
						10 = {
							add_building_construction = { type = infrastructure level = 1 instant_build = yes }
						}
						10 = {
							every_neighbor_state = {
								limit = {
									NOT = { infrastructure > 9 }
								}
								add_building_construction = { type = infrastructure level = 1 instant_build = yes }
							}
						}					
						10 = {
							if = {
								limit = {
									has_resources_amount = { resource = steel amount > 0 }
								}
								add_resource = {
									type = steel
									amount = 5
									state = THIS
								}
							}
							if = {
								limit = {
									has_resources_amount = { resource = tungsten amount > 0 }
								}
								add_resource = {
									type = tungsten
									amount = 5
									state = THIS
								}
							}
							if = {
								limit = {
									has_resources_amount = { resource = aluminium amount > 0 }
								}
								add_resource = {
									type = aluminium
									amount = 5
									state = THIS
								}
							}
							if = {
								limit = {
									has_resources_amount = { resource = chromium amount > 0 }
								}
								add_resource = {
									type = chromium
									amount = 5
									state = THIS
								}
							}						
						}
						50 = {
							OWNER = { add_timed_idea = { idea = foreign_investments_boom_2 days = 362 } }
						}
					}
					cw_remove_state_monopoly = yes
				}
			}
		}
	}
	on_state_control_changed = {
		effect = {
			if  = {
				limit = {
					FROM.FROM = { has_state_flag = monopoly_state }
				}
			}
			FROM.FROM = {
				cw_remove_state_monopoly = yes 
			}
		}
	}
}
